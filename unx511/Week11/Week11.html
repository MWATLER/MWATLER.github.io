<h1>Week 11 - November 30-December 4</h1>

<h3>Introduction</h3>
<p>This week we will look at the last method of inter-process communications - shared memory.
    Shared memory is different from the others stored because it is primarily a hardware-based form of
    inter-process communications. It is faster than the other methods studied, but it is also 
    the most primitive form of interprocess communication.</p>
<p>We will also have a final exam review.</p>

<h3>Videos</h3>
<table>
    <tr><td>Shared Memory</td><td><a href="https://www.youtube.com/watch?v=SMeDw2GDMsE" target="_blank">C Programming in Linux Tutorial #036 - Shared Memory</a></td></tr>
</table>

<h3>Quiz</h3>
<ul>
    <li><b>Quiz 10</b> (December 1) will be on shared memory. Study chapter 48 of
        <a href="../The%20Linux%20Programming%20Interface%20-%20A%20Linux%20and%20UNIX%20System%20Programming%20Handbook.pdf" target="_blank">The Linux Programming Interface</a></li>
</ul>

<h3>Lab</h3>
<ul>
    <li><a href="../Labs/Lab10/Lab10.html" target="_blank">Lab 10</a> (due December 11) - Semaphores with Shared Memory.</li>
</ul>

<h3>Final Assessment</h3>
<ul>
<li>Final Review: see <a href="../FinalReview/FinalReview.docx" target="_blank">FinalReview.docx</a>.</li>
</ul>

<h3>Lecture Material</h3>
<ul>
    <li>Shared Memory - Chapter 48 of
        <a href="../The%20Linux%20Programming%20Interface%20-%20A%20Linux%20and%20UNIX%20System%20Programming%20Handbook.pdf" target="_blank">The Linux Programming Interface</a>.</li>
</ul>

<h3>Lab(s)</h3>
<ul>
    <li><a href="../Labs/Lab9/Lab9.html" target="_blank">Lab 9</a> (due December 11) - Semaphores with Shared Memory.<br>
</ul>

<h3>Assignment(s)</h3>
<p><a href="../Assignment2/Assignment2.html" target="_blank">Assignment 2</a>. (due December 11).</p>

<h3>Sample Code</h3>

<p><em>Shared Memory</em></p>
<ul>
    <li>Code that demonstrates shared memory via Linux utilities can be found in
        <a href="transfer/client.h" target="_blank">client.h</a>,
        <a href="transfer/client1.cpp" target="_blank">client1.cpp</a> and
        <a href="transfer/client2.cpp" target="_blank">client2.cpp</a> with its
        <a href="transfer/Makefile" target="_blank">Makefile</a>.
        </li>
        <li>Code that demonstrates shared memory via a memory pool can be found in
        <a href="mempool/client.h" target="_blank">client.h</a>,
        <a href="mempool/client1.cpp" target="_blank">client1.cpp</a> and
        <a href="mempool/client2.cpp" target="_blank">client2.cpp</a> with its
        <a href="mempool/Makefile" target="_blank">Makefile</a>.
        This will give a segmentation fault. The address of the memory pool of client1
        has been passed to client2, therefore it should be possible to read the contents
        of the memory pool in client2. However, each process has its own virtual address
        space, so the address passed by client1 will not be the same address when read
        by client2. THIS DOES NOT WORK.<br>
        Linux has its own shared memory utilities. It is better to use those.
        </li>
        <li>Code for two processes which send messages to each other via shared memory can be found at:
        <a href="dispatch/client.h" target="_blank">client.h</a>,
        <a href="dispatch/client1.cpp" target="_blank">client1.cpp</a> and
        <a href="dispatch/client2.cpp" target="_blank">client2.cpp</a> with its
	<a href="transfer/Makefile" target="_blank">Makefile</a>.<br>
	The messages passed back and forth between the clients have been taken from the Monty Python
	skit: <a href="https://www.youtube.com/watch?v=U4VjZKPjxnE" target="_blank">The Funniest Joke</a>.
    </li>
    <li>Code that simulates 16 clients trying to write to a radio with four channels can be found at:
        <a href="radioChannels/client.h" target="_blank">client.h</a>,
        <a href="radioChannels/client.cpp" target="_blank">client.cpp</a>,
        <a href="radioChannels/memoryManager.cpp" target="_blank">memoryManager.cpp</a> and
        <a href="radioChannels/Makefile" target="_blank">Makefile</a>.<br>
	The memory map can be seen at:
        <a href="radioChannels/RadioChannelsMemoryMap.docx" target="_blank">RadioChannelsMemoryMap.docx</a>.<br>
        Scripts for starting and stopping the simulation can be found at:
        <a href="radioChannels/start.sh" target="_blank">start.sh</a> and
        <a href="radioChannels/stop.sh" target="_blank">stop.sh</a>.<br>
        Each channel uses a part of shared memory. The clients write to one of the channels by writing into the channel's shared memory.
        The use of semaphores ensures that the number of clients writing to the radio's channels is limited to four.
    </li>    
</ul>
